<nz-tabset [nzTabPosition]="'top'" [nzType]="'card'" [nzSize]="'large'">
    <nz-tab>
        <ng-template #nzTabHeading>
            <span style="font-size: large;">设备基本信息</span>
        </ng-template>
        <div style="height: 30px; background: #1ba1e2; text-align:center; line-height:30px;">
            <span>设备基本信息</span>
        </div>
        <nz-table #nzTable
                  [nzDataSource]="0"
                  [nzShowSizeChanger]="true"
                  [nzSize]="'small'"
                  [nzIsPagination]="false">
            <tbody nz-tbody>
            <tr nz-tbody-tr  >
                <td nz-td style="  width: 25%; text-align:right;">设备号：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{devNo}}</td>
                <td nz-td style="  width: 25%; text-align:right;">所属机构：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{orgName}}({{orgNo}})</td>
            </tr>
            <tr nz-tbody-tr  align="left">
                <td nz-td style="  width: 25%; text-align:right;">ip地址：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{devip}}</td>
                <td nz-td style="  width: 25%; text-align:right;">设备型号：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{devType}}</td>
            </tr>
            <tr nz-tbody-tr align="left" >
                <td nz-td style="  width: 25%; text-align:right;">在行标志：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{awayFlag}}</td>
                <td nz-td style="  width: 25%; text-align:right;">经营方式：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{workType}}</td>
            </tr>
            <tr nz-tbody-tr align="left" >
                <td nz-td style="  width: 25%; text-align:right;">设备地址：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{address}}</td>
                <td nz-td style="  width: 25%; text-align:right;">管机员：</td>
                <td nz-td style="  width: 25%; text-align:left;">&nbsp;{{devManager}}</td>
            </tr>
            </tbody>
        </nz-table>
    </nz-tab>
    <nz-tab>
        <ng-template #nzTabHeading>
            <label style="font-size: large;">设备状态信息</label>
        </ng-template>
        <div style="height: 30px; background: #1ba1e2; text-align:center; line-height:30px;">
            <span>设备状态信息</span>
        </div>
        <nz-table [nzDataSource]="0"
                  [nzShowSizeChanger]="true"
                  [nzSize]="'small'"
                  [nzIsPagination]="false">
            <tbody nz-tbody>
            <tr nz-tbody-tr  >
                <td nz-td style=" width: 25%; text-align:right;">运行状态：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{devRunStatus}}</td>
                <td nz-td style=" width: 25%; text-align:right;">模块状态： </td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{devModStatus}}</td>
            </tr>
            <tr nz-tbody-tr  align="left">
                <td nz-td style=" width: 25%; text-align:right;">钱箱状态：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{devCashboxStatus}}</td>
                <td nz-td style=" width: 25%; text-align:right;">网络状态：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{devNetStatus}}</td>
            </tr>
            <tr nz-tbody-tr align="left" >
                <td nz-td style=" width: 25%; text-align:right;">吞卡数量：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{idcCaptureBinCount}}</td>
                <td nz-td style=" width: 25%; text-align:right;"></td>
                <td nz-td style=" width: 25%; text-align:left;"></td>
            </tr>
            </tbody>
        </nz-table>
    </nz-tab>
    <nz-tab>
        <ng-template #nzTabHeading>
            <span style="font-size: large;">模块状态信息</span>
        </ng-template>
        <div style="height: 30px; background: #1ba1e2; text-align:center; line-height:30px;">
            <span>模块状态信息</span>
        </div>
            <nz-table #nzTableA
                      [nzDataSource]="statusList"
                      [nzShowSizeChanger]="true"
                      [nzSize]="'small'"
                      [nzIsPagination]="false">
                <tbody nz-tbody>
                <tr nz-tbody-tr *ngFor="let item of nzTableA.data;let i = index;">
                    <td nz-td style=" width: 25%; text-align:right;">{{item[0].name}}：</td>
                    <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{item[0].status}}</td>
                    <td nz-td style=" width: 25%; text-align:right;" *ngIf="item[1]">{{item[1].name}}：</td>
                    <td nz-td style=" width: 25%; text-align:left;" *ngIf="item[1]"> &nbsp;{{item[1].status}}</td>
                </tr>
                </tbody>
            </nz-table>
    </nz-tab>
    <nz-tab>
        <ng-template #nzTabHeading>
            <span style="font-size: large;">设备软硬件信息</span>
        </ng-template>
        <div style="height: 30px; background: #1ba1e2; text-align:center; line-height:30px;">
            <span>设备软硬件信息</span>
        </div>

        <nz-table [nzDataSource]="0"
                  [nzShowSizeChanger]="true"
                  [nzSize]="'small'"
                  [nzIsPagination]="false">
            <tbody nz-tbody>
            <tr nz-tbody-tr  >
                <td nz-td style=" width: 25%; text-align:right;">操作系统：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{system}}</td>
                <td nz-td style=" width: 25%; text-align:right;">操作系统版本： </td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{version}}</td>
            </tr>
            <tr nz-tbody-tr  align="left">
                <td nz-td style=" width: 25%; text-align:right;">操作系统补丁版本：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{patchVersion}}</td>
                <td nz-td style=" width: 25%; text-align:right;">内存：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{memory}}</td>
            </tr>
            <tr nz-tbody-tr  align="left">
                <td nz-td style=" width: 25%; text-align:right;">硬盘：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{disk}}</td>
                <td nz-td style=" width: 25%; text-align:right;">处理器：</td>
                <td nz-td style=" width: 25%; text-align:left;">&nbsp;{{cpu}}</td>
            </tr>
            </tbody>
        </nz-table>
    </nz-tab>
    <nz-tab>
        <ng-template #nzTabHeading>
            <label style="font-size: large;" (click)="qryCashBoxInfo()">设备钞箱信息</label>
        </ng-template>
        <div style="height: 30px; background: #1ba1e2; text-align:center; line-height:30px;">
            <label>设备钞箱信息</label>
        </div>
        <form nz-form >
            <div style="height: 30px; text-align:center; line-height:30px;" *ngIf="cBoxSize<=0">
                <span>未知</span>
            </div>
            <div class="search-result-list" style="margin-left:20px; margin-right:20px;" *ngIf="cBoxSize>0">
                <nz-table #nzTable
                          [nzLoading]="loading"
                          [nzDataSource]="cBoxList"
                          [nzShowSizeChanger]="true"
                          [nzSize]="'small'"
                          [nzIsPagination]="false">
                    <thead nz-thead>
                    <tr>
                        <th nz-th><span>钞箱标识</span></th>
                        <th nz-th><span>钞箱类型</span></th>
                        <th nz-th><span>钞箱状态</span></th>
                        <th nz-th><span>初始张数</span></th>
                        <th nz-th><span>存款张数</span></th>
                        <th nz-th><span>当前钞箱张数</span></th>
                        <th nz-th><span>钞箱面值</span></th>
                        <th nz-th><span>钞箱币种</span></th>
                    </tr>
                    </thead>
                    <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let item of nzTable.data;">
                        <td nz-td>{{item[0]}}</td>
                        <td nz-td>{{item[1]}}</td>
                        <td nz-td>{{item[6]}}</td>
                        <td nz-td>{{item[2]}}</td>
                        <td nz-td>{{item[5]}}</td>
                        <td nz-td>{{item[3]}}</td>
                        <td nz-td>{{item[4]}}</td>
                        <td nz-td>{{item[9]}}</td>
                    </tr>
                    </tbody>
                </nz-table>
            </div>
        </form>
    </nz-tab>
    <nz-tab>
        <ng-template #nzTabHeading>
            <span style="font-size: large;" (click)="qryFault()">设备故障信息</span>
        </ng-template>
        <div style="height: 30px; background: #1ba1e2; text-align:center; line-height:30px;">
            <label>设备故障信息</label>
        </div>
        <form nz-form >
            <div style="height: 30px; text-align:center; line-height:30px;" *ngIf="faultList.length == 0">
                <label>未知</label>
            </div>
            <div class="search-result-list" style="margin-left:20px; margin-right:20px;" *ngFor="let fault of faultList;">
                <nz-table #nzTable
                          [nzDataSource]="fault"
                          [nzShowSizeChanger]="true"
                          [nzSize]="'small'"
                          [nzIsPagination]="false">
                    <thead nz-thead>
                    <tr>
                        <th nz-th >
                            <label style="display:block; float:left; padding: 1px 30px 1px 1px;">设备号：{{fault.devNo}}</label>
                        </th>
                        <th nz-th >
                            设备模块：{{fault.devModule}}
                        </th>
                        <th nz-th ></th>
                    </tr>
                    </thead>
                    <tbody nz-tbody>
                    <tr nz-tbody-tr >
                        <td nz-td>故障级别：{{fault.faultLevel}}</td>
                        <td nz-td>故障代码：{{fault.faultCode}}</td>
                        <td nz-td>故障时间：{{fault.faultTime}}</td>
                    </tr>
                    <tr nz-tbody-tr >
                        <td nz-td colspan="3">厂商码：{{fault.vendorCode}}</td>
                    </tr>
                    <tr nz-tbody-tr >
                        <td nz-td colspan="3">故障描述：{{fault.description}}</td>
                    </tr>
                    <tr nz-tbody-tr >
                        <td nz-td colspan="3">解决方法：{{fault.solution}}</td>
                    </tr>
                    </tbody>
                </nz-table>
                <br><br>
            </div>
        </form>
    </nz-tab>
    <nz-tab>
        <ng-template #nzTabHeading>
            <span style="font-size: large;" (click)="qryCase()">设备CASE信息</span>
        </ng-template>
        <div style="height: 30px; background: #1ba1e2; text-align:center; line-height:30px;">
            <span>设备CASE信息</span>
        </div>
        <form nz-form >
            <div class="search-result-list" style="margin-left:20px; margin-right:20px;">
                <nz-table #nzTable
                          [nzShowSizeChanger]="true"
                          [nzSize]="'small'"
                          [nzLoading]="loading"
                          [nzAjaxData]="dataSet"
                          [(nzPageIndex)]="page.curPage"
                          [(nzPageSize)]="page.pageSize"
                          [nzTotal]="page.totalRow"
                          [nzPageSizeSelectorValues]="[20,50,100,200]"
                          [nzShowQuickJumper] = "true"
                          nzShowTotal
                          (nzPageSizeChange)="qryCase(true)"
                          (nzPageIndexChange)="qryCase()">
                    <thead nz-thead>
                    <tr>
                        <th nz-th><span>所属机构</span></th>
                        <th nz-th><span>设备号</span></th>
                        <th nz-th><span>CASE类型</span></th>
                        <th nz-th><span>处理状态</span></th>
                        <th nz-th><span>创建时间</span></th>
                        <th nz-th><span>关闭时间</span></th>
                        <th nz-th><span>CASE级别</span></th>
                        <th nz-th><span>模块</span></th>
                        <th nz-th><span>故障描述</span></th>
                        <th nz-th><span>处理建议</span></th>
                        <th nz-th><span>通知</span></th>
                        <th nz-th><span>跟踪</span></th>
                        <th nz-th><span>详情</span></th>
                    </tr>
                    </thead>
                    <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let item of nzTable.data;let i = index;">
                        <td nz-td>{{item.orgname}}({{item.orgno}})</td>
                        <td nz-td>{{item.devNo}}</td>
                        <td nz-td>{{item.catalogName}}</td>
                        <td nz-td>{{item.currentstatus}}</td>
                        <td nz-td>{{item.openTime}}</td>
                        <td nz-td>{{item.closeTime}}</td>
                        <td nz-td  *ngIf="item.grade == '0'">初始状态</td>
                        <td nz-td  *ngIf="item.grade == '1'">通知升级</td>
                        <td nz-td  *ngIf="item.grade == '2'">响应升级</td>
                        <td nz-td  *ngIf="item.grade == '3'">故障升级</td>
                        <td nz-td  *ngIf="item.grade == '4'">故障挂起</td>
                        <!--                        {{item.cardType == '01' ? '本行借记卡' : item.cardType == '02' ? '本行信用卡' : item.cardType == '03' ? '他行卡' : '未识别'}}-->
                        <td nz-td>{{item.modcatalogname}}</td>
                        <td nz-td>{{item.description}}</td>
                        <td nz-td>{{item.solution}}</td>
                        <td nz-td>
                            <a (click)="showNotice(item)" [ngStyle]="{'color':'blue'}">通知</a>
                        </td>
                        <td nz-td>
                            <a (click)="showFollow(item)" [ngStyle]="{'color':'blue'}">跟踪</a>
                        </td>
                        <td nz-td>
                            <a (click)="showDetail(item)" [ngStyle]="{'color':'blue'}">详情</a>
                        </td>
                    </tr>
                    </tbody>
                </nz-table>
            </div>
        </form>
    </nz-tab>
</nz-tabset>


